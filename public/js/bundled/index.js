/* eslint-disable*//* eslint-disable */function e(){let e=document.querySelector(".alert");e&&e.parentElement.removeChild(e)}const t=(t,s)=>{e();let a=`<div class='alert alert--${t}'>${s}</div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",a),setTimeout(e,3e3)},s=async(e,s)=>{try{let a=await axios({method:"POST",// url: 'http://127.0.0.1:3000/api/v1/users/login',
url:"/api/v1/users/login",data:{email:e,password:s}});"success"===a.data.status&&(t("success","Logged in successfully"),window.setTimeout(()=>{location.assign("/")},500)),console.log(a)}catch(e){t("error",e.response.data.message)}},a=async()=>{console.log("clicked");try{let e=await axios({method:"GET",// url: 'http://127.0.0.1:3000/api/v1/users/logout',
url:"/api/v1/users/logout"});"success"===e.data.status&&(t("success","Logged out successfully"),location.reload(!0))}catch(e){t("error","Error in logging out, Try again later!!")}},o=async(e,s,a,o)=>{console.log("Signing-up");try{let n=await axios({method:"POST",// url: 'http://127.0.0.1:3000/api/v1/users/signup',
url:"/api/v1/users/signup",data:{name:e,email:s,password:a,passwordConfirm:o}});"success"===n.data.status&&(document.querySelector(".sign-up").textContent="Processing...",t("success","Signned-up in successfully"),window.setTimeout(()=>{location.assign("/")},500))}catch(e){t("error",e.response.data.message)}},n=async(e,s)=>{console.log(name,email);try{let a=await axios({method:"PATCH",url:"password"===s?"/api/v1/users/updateMyPassword":"/api/v1/users/updateMe",data:e});"success"===a.data.status&&t("success",`Successfully updated ${s.toUpperCase()}`),console.log(a)}catch(e){t("error",e.response.data.message)}},r=Stripe("pk_test_51NvgE6SAirumL6rPhZiWyGklJWAj6C2CqZp7gYZYTbKTuFmXc1R32JqHTHypkOklG24RLVc93Kda4VtpbuOkq3ch00IoTKYUqb"),d=async e=>{try{let t=await axios(`/api/v1/booking/checkout-session/${e}`);await r.redirectToCheckout({sessionId:t.data.session.id})}catch(e){t("error",e.message)}},u=document.querySelector(".form--login"),c=document.querySelector(".form--signup"),l=document.querySelector(".logout"),i=document.querySelector(".form-user-data"),m=document.querySelector(".form-user-settings"),p=document.querySelector("#book-tour");u&&u.addEventListener("submit",e=>{e.preventDefault();let t=document.getElementById("email").value,a=document.getElementById("password").value;s(t,a)}),c&&c.addEventListener("submit",e=>{e.preventDefault();let t=document.getElementById("name").value,s=document.getElementById("email").value,a=document.getElementById("password").value,n=document.getElementById("passwordConfirm").value;o(t,s,a,n);//
}),l&&l.addEventListener("click",a),i&&i.addEventListener("submit",e=>{e.preventDefault();let t=new FormData;//multipart/form-data
t.append("name",document.getElementById("name").value),t.append("email",document.getElementById("email").value),t.append("photo",document.getElementById("photo").files[0]),// const name = document.getElementById('name').value;
// const email = document.getElementById('email').value;
console.log(t),n(t,"data")}),m&&m.addEventListener("submit",async e=>{e.preventDefault(),document.querySelector(".btn-save-password").textContent="Updating...";let t=document.getElementById("password-current").value,s=document.getElementById("password").value,a=document.getElementById("password-confirm").value;await n({passwordCurrent:t,password:s,passwordConfirm:a},"password"),document.querySelector(".btn-save-password").textContent="Save password",document.getElementById("password-current").value="",document.getElementById("password").value="",document.getElementById("password-confirm").value=""}),p&&p.addEventListener("click",e=>{e.target.textContent="Processing...";let t=e.target.dataset.tourId;d(t);// e.target.textContent = 'Book your Now!...';
});//# sourceMappingURL=index.js.map

//# sourceMappingURL=index.js.map
